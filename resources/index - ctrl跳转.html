<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>千幽Chiyuu按钮</title>
	<link rel="stylesheet" rev="stylesheet" href="style.css" type="text/css" media="all" />
	<script>
		var voiceName = new Array("sigh","AhEastEight","Doshite","WTFF","Kugimiya_Combo","Fury","Fxxk","FxxkU");
		var keyPressed = false;
		var TarURL = "";
		var keynum ;		
		function voiceControl(butID){
			var button = document.getElementById(butID);
			var songname = document.getElementById("songName");
			var audio = document.getElementById("music"); 
			var content = "Null";
			var song = new Array("Twinkle Night","时光盲盒");
			var avNum = new Array("av415615815","av799211017")
			var name = document.getElementById(butID).innerHTML;

			function playesound(){
				audio.src = "SpiritSound/" +butID + ".mp3";
				if(audio.paused){                 
					audio.play();
				}
				else{
					audio();
				} 
				songname.innerHTML = "现在播放：" + button.innerHTML;
			}
			
			if(keyPressed){
				if(keynum == 17){
					for (var i = 0; i < song.length;i++){
						if(name == song[i]){
							keyPressed = true;
							TarURL = "https://www.bilibili.com/video/" + avNum[i];
							window.open(TarURL,"_blank");
							keyPressed = false;
							keynum = 0 ; 
							TarURL = "";
							break;
						}
					}
				}
				else{
					alert(keynum);
					
				}
			}
			else{
				playesound();
			}
			
		}
		
		function eleStateColor(Element,eleColor){
			var element = document.getElementById(Element);
			element.style.borderColor=eleColor;
			element.style.backgroundColor=eleColor;
		}
		function voiceStop(){
			var audio = document.getElementById("music");
			var songname = document.getElementById("songName");
			audio.src="";
			songname.innerHTML = "";
		}
		function randomVoice(){
			var RandomNumber = Math.floor(Math.random()*8);
			voiceControl(voiceName[RandomNumber]);
		}
		
		function voiceLoop(){
			var audio = document.getElementById("music");
			if (audio.loop){
				audio.removeAttribute("loop");
				eleStateColor("loop","#E8779F");
			}
			else{
				audio.loop = true;
				eleStateColor("loop","#CC255F");
			}
		}
		
		function resetName(){
			var songname = document.getElementById("songName");
			songname.innerHTML = "";
		}
		
		function onKeyDown(){
			/*
			var song = new Array("Twinkle Night","时光盲盒");
			var avNum = new Array("av415615815","av799211017")
			var name = document.getElementById(butID).innerHTML;
			if(event.keyCode == 17){
				for (var i = 0; i < song.length;i++){
					if(name == song){
							keyPressed = true;
							TarURL = "https://www.bilibili.com/video/" + avNum[i];
						}
				}
			}
			*/
			keyPressed = true;
			keynum = event.which;
		}
		
		function onKeyUp(){
			keyPressed = false;
			keynum = 0;
		}
		</script>
	</head>

<body style="background-color:#F9EFF5" onkeydown = "onKeyDown()" onkeyup="onKeyUp()">
	<div>
        <div class="hidden_box">
			<label for="label1"></label>
			<input type="checkbox" id="label1" title="这是一个安静的控制器">
			<div class="hidden_show">
				<ul>
					<li class="hide">
						<button class="picbutton" id = "loop" onclick="voiceLoop()" style="background-image: url(Img/DoNotStop.png);" title="不要停下来啊(指单曲循环)"></button>
						</li>
					<li class="hide">
						<button class="picbutton" id="random" onclick="randomVoice()" style="background-image: url(Img/random.png);" title ="随机一个音声"></button>
						</li>
					<li class="hide">
						<button class="picbutton" id="stop" onclick="voiceStop()" style="background-image: url(Img/stop.png);" title="停止播放"></button>
						</li>
					</ul>
				</div>
    		</div>
		</div>
	<div>
		<audio controls="controls" preload id="music" hidden onPause="resetName()"></audio>
		</div>
	<div id="nav">
		<ul id="navgation">
			<li class="navg">
				 <input type="button" class="pic" style="background-image: url(Img/flower.png);">
				</li>
			<li class="navg">
				<span class="titletext">幽按钮</span>
				</li>
			<li class="navg">
				<a href="https://space.bilibili.com/690608691"  target="_blank">
					<button class="picbutton" style="width: 132px; margin-left: 10px; border-radius: 10px;" title="千幽Chiyuu">
					<li><img src="Img/board.png" style="width: 32px;height: 32px" alt="??"></li>
					<li style="padding-top: 6px;"><span>千幽Chiyuu</span></li>
					</button>
					</a>
				</li>
			<li class="navg">
				<a href="https://space.bilibili.com/99075788" target="_blank">
					<button class="picbutton" style="width: 180px; margin-left: 5px; border-radius: 10px;" title="千幽的暗黑交友部">
						<li><img src="Img/erchuang.png" style="width: 32px;height: 32px" alt="??"></li>
						<li style="padding-top: 6px"><span>千幽的暗黑交友部</span></li>
				</button></a>
				</li>
			</ul>
			
		</div>
	<div id="main" style="align: center">
			<div>
				<div class="subTitle">
					<span>幽歌</span>
					<span class="msghide_box" style="">
						<label for="label2"></label>
						<input type="checkbox" id="label2" title="隐藏功能">
							<div class="hidden_show">
								<ul>
									<li>隐藏功能(仅适配Windows平台)：按住ctrl 再按按钮可以跳转至bilibili听高清版幽歌 </li>
								</ul>
								</div>
						</span>
					<div class="content">
						<button class="button" onclick="voiceControl(this.id)" onKeyDown="onKeyDown(this.id)" onKeyUp="onKeyUp()" id="幽歌/twinklenight">Twinkle Night</button>
						<button class="button" onclick="voiceControl(this.id)" onKeyDown="onKeyDown(this.id)" onKeyUp="onKeyUp()" id="幽歌/timebox">时光盲盒</button>
						</div>
					</div>
				</div>
			<div>
				<div class="subTitle">
					<span>语气</span>
					<div class="content">
						<button class="button" onclick="voiceControl(this.id)" id="sigh">生活不易，千幽叹气</button>
						<button class="button" onclick="voiceControl(this.id)" id="AhEastEight">阿西吧</button>
						<button class="button" onclick="voiceControl(this.id)" id="Doshite">千幽疑问</button>
							<button class="button" onclick="voiceControl(this.id)" id="neeeeee">neeeeee</button>	
						</div>
					</div>
				</div>
			<div>
				<div class="subTitle">
					<span style="margin: 5px;">萌</span>
					<div class="content">
						<button class="button" onclick="voiceControl(this.id)" id="WTFF">我的花花</button>
						<button class="button" onclick="voiceControl(this.id)" id="Kugimiya_Combo">钉宫三连(愤怒ver)</button>
						<button class="button" onclick="voiceControl(this.id)" id="Kugimiya_chagrin">钉宫三连(委屈ver)</button>
						<button class="button" onclick="voiceControl(this.id)" id="Fury">无能狂怒</button>
						<button class="button" onclick="voiceControl(this.id)" id="Fxxk">Fxxk</button>
						<button class="button" onclick="voiceControl(this.id)" id="FxxkU">FxxkU</button>
						<button class="button" onclick="voiceControl(this.id)" id="baka">Baka×3</button>
						<button class="button" onclick="voiceControl(this.id)" id="DiedGhost">死鬼~</button>
						<button class="button" onclick="voiceControl(this.id)" id="Stretch">千幽伸懒腰</button>
						<button class="button" onclick="voiceControl(this.id)" id="sneeze1">喷嚏1</button>
						<button class="button" onclick="voiceControl(this.id)" id="sneeze2">喷嚏2</button>
						<button class="button" onclick="voiceControl(this.id)" id="阳间人是大笨蛋">阳间人是大笨蛋</button>
						<button class="button" onclick="voiceControl(this.id)" id="哼哈">哼哈~</button>
						</div>
					</div>
				</div>
			<div>
				<div class="subTitle">
					<span style="margin: 5px;">草</span>
					<div class="content">
						<button class="button" onclick="voiceControl(this.id)" id="ChiyuuHender">我是千幽亨德尔</button>
						<button class="button" onclick="voiceControl(this.id)" id="bakax3">Baka×3</button>
						<button class="button" onclick="voiceControl(this.id)" id="RUA">RUA</button>
						<button class="button" onclick="voiceControl(this.id)" id="Duixian">你瞧不起谁哪</button>
						<button class="button" onclick="voiceControl(this.id)" id="Goodnight" title="左右横跳注意">千幽の晚安</button>
						
						</div>
					</div>
				</div>		
		</div>
	
	<div class="bottomsign" style=" align-content: center; margin: auto; padding: auto">
		<p id="songName"></p>
		</div>
			
	<footer class="footer" style="margin-top: 48px">
		<div>
			<ul>
				<li style="font-size: 20px; padding-top: 6px">©</li>
				<li style="font-size: 20px; padding-top: 6px"><a herf="https://github.com/Tim120702" target="_blank">TimWhite</a> </li>
					<a href="https://github.com/Tim120702/Chiyuu_Button" target="_blank" style="margin-left: 5px; width:24px;height:24px;">
						<input type="button" class="picbutton" style="background-image: url(Img/github.png);background-color: transparent;border-color: transparent;width:24px;height:24px;">
						</a>
				</ul>
			<p style="font-size: 16px;">本站为爱好者作品，和VirtuaReal官方没有关联。</p>
			<p style="font-size: 16px;">上传的音频文件若有侵犯您的权益，请点此联系我们删除
				<a href="https://github.com/Tim120702/Chiyuu_Button/issues" target="_blank" style=" width:24px; height:24px;">
					<input type="button" class="picbutton" style="background-image: url(Img/issue.png);background-color: transparent;border-color: transparent;width:24px;height:24px;">
					</a>
				</p>
			</div>
		</footer>
		
	</body>
	</html>
